
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Proyek UTS Pendata &#8212; PENAMBANGAN DATA E</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Proyek_UTS';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="LOF" href="lof.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/malik.jpg" class="logo__image only-light" alt="PENAMBANGAN DATA E - Home"/>
    <img src="_static/malik.jpg" class="logo__image only-dark pst-js-only" alt="PENAMBANGAN DATA E - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Selamat datang, Matkul Pendata
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tugas1.html">Tugas1 penambangan data</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Tugas2.html"><strong>Tugas 2 data_understanding</strong></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="lof.html">LOF</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Proyek UTS Pendata</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FProyek_UTS.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Proyek_UTS.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Proyek UTS Pendata</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-dataset">Import dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-data-dan-visualisasi-serta-korelasi-fitur-dalam-dataset-data-understanding">1. Analisis Data dan Visualisasi Serta Korelasi Fitur dalam Dataset (DATA UNDERSTANDING)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemrosesan-awal-data-preprocessing">2. Pemrosesan awal data (Preprocessing)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemodelan-model-klasifikasi">3. Pemodelan (model klasifikasi)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="proyek-uts-pendata">
<h1>Proyek UTS Pendata<a class="headerlink" href="#proyek-uts-pendata" title="Link to this heading">#</a></h1>
<p>##Install Pustaka
pip install ucimlrepo digunakan untuk menginstal pustaka Python bernama ucimlrepo dari Python Package Index (PyPI). Pustaka ini memungkinkan kita untuk mengakses dataset dari UCI Machine Learning Repository secara langsung lewat kode Python, tanpa perlu mengunduh file secara manual.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">ucimlrepo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ucimlrepo in /usr/local/python/3.12.1/lib/python3.12/site-packages (0.0.7)
Requirement already satisfied: pandas&gt;=1.0.0 in /home/codespace/.local/lib/python3.12/site-packages (from ucimlrepo) (2.2.3)
Requirement already satisfied: certifi&gt;=2020.12.5 in /home/codespace/.local/lib/python3.12/site-packages (from ucimlrepo) (2024.8.30)
Requirement already satisfied: numpy&gt;=1.26.0 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.2.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.2)
Requirement already satisfied: six&gt;=1.5 in /home/codespace/.local/lib/python3.12/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;=1.0.0-&gt;ucimlrepo) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<section id="import-dataset">
<h2>Import dataset<a class="headerlink" href="#import-dataset" title="Link to this heading">#</a></h2>
<p>Import dataset digunakan untuk mengambil data yang ada pada repository atau dataset yang dipublikasi yang akan digunakan untuk menganalisis datanya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="c1"># fetch dataset</span>
<span class="n">cirrhosis_patient_survival_prediction</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">878</span><span class="p">)</span>

<span class="c1"># data (as pandas dataframes)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># metadata</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>

<span class="c1"># variable information</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;uci_id&#39;: 878, &#39;name&#39;: &#39;Cirrhosis Patient Survival Prediction&#39;, &#39;repository_url&#39;: &#39;https://archive.ics.uci.edu/dataset/878/cirrhosis+patient+survival+prediction+dataset-1&#39;, &#39;data_url&#39;: &#39;https://archive.ics.uci.edu/static/public/878/data.csv&#39;, &#39;abstract&#39;: &#39;Utilize 17 clinical features for predicting survival state of patients with liver cirrhosis. The survival states include 0 = D (death), 1 = C (censored), 2 = CL (censored due to liver transplantation).&#39;, &#39;area&#39;: &#39;Health and Medicine&#39;, &#39;tasks&#39;: [&#39;Classification&#39;], &#39;characteristics&#39;: [&#39;Tabular&#39;], &#39;num_instances&#39;: 418, &#39;num_features&#39;: 17, &#39;feature_types&#39;: [&#39;Real&#39;, &#39;Categorical&#39;], &#39;demographics&#39;: [&#39;Age&#39;, &#39;Sex&#39;], &#39;target_col&#39;: [&#39;Status&#39;], &#39;index_col&#39;: [&#39;ID&#39;], &#39;has_missing_values&#39;: &#39;yes&#39;, &#39;missing_values_symbol&#39;: &#39;NaN&#39;, &#39;year_of_dataset_creation&#39;: 1989, &#39;last_updated&#39;: &#39;Fri Nov 03 2023&#39;, &#39;dataset_doi&#39;: &#39;10.24432/C5R02G&#39;, &#39;creators&#39;: [&#39;E. Dickson&#39;, &#39;P. Grambsch&#39;, &#39;T. Fleming&#39;, &#39;L. Fisher&#39;, &#39;A. Langworthy&#39;], &#39;intro_paper&#39;: {&#39;ID&#39;: 296, &#39;type&#39;: &#39;NATIVE&#39;, &#39;title&#39;: &#39;Prognosis in primary biliary cirrhosis: Model for decision making&#39;, &#39;authors&#39;: &#39;E. Dickson, P. Grambsch, T. Fleming, L. Fisher, A. Langworthy&#39;, &#39;venue&#39;: &#39;Hepatology&#39;, &#39;year&#39;: 1989, &#39;journal&#39;: None, &#39;DOI&#39;: None, &#39;URL&#39;: &#39;https://www.semanticscholar.org/paper/db1487216b8a4b26f5e5078ea9109ac9d8355b65&#39;, &#39;sha&#39;: None, &#39;corpus&#39;: None, &#39;arxiv&#39;: None, &#39;mag&#39;: None, &#39;acl&#39;: None, &#39;pmid&#39;: None, &#39;pmcid&#39;: None}, &#39;additional_info&#39;: {&#39;summary&#39;: &quot;During 1974 to 1984, 424 PBC patients referred to the Mayo Clinic qualified for the randomized placebo-controlled trial testing the drug D-penicillamine. Of these, the initial 312 patients took part in the trial and have mostly comprehensive data. The remaining 112 patients didn&#39;t join the clinical trial but agreed to record basic metrics and undergo survival tracking. Six of these patients were soon untraceable after their diagnosis, leaving data for 106 of these individuals in addition to the 312 who were part of the randomized trial.&quot;, &#39;purpose&#39;: &#39;Cirrhosis results from prolonged liver damage, leading to extensive scarring, often due to conditions like hepatitis or chronic alcohol consumption. The data provided is sourced from a Mayo Clinic study on primary biliary cirrhosis (PBC) of the liver carried out from 1974 to 1984.&#39;, &#39;funded_by&#39;: &#39;Mayo Clinic&#39;, &#39;instances_represent&#39;: &#39;People&#39;, &#39;recommended_data_splits&#39;: None, &#39;sensitive_data&#39;: &#39;Gender, Age&#39;, &#39;preprocessing_description&#39;: &#39;1. Drop all the rows where miss value (NA) were present in the Drug column\n2. Impute missing values with mean results\n3. One-hot encoding for all category attributes&#39;, &#39;variable_info&#39;: &#39;1. ID: unique identifier\n2. N_Days: number of days between registration and the earlier of death, transplantation, or study analysis time in July 1986\n3. Status: status of the patient C (censored), CL (censored due to liver tx), or D (death)\n4. Drug: type of drug D-penicillamine or placebo\n5. Age: age in [days]\n6. Sex: M (male) or F (female)\n7. Ascites: presence of ascites N (No) or Y (Yes)\n8. Hepatomegaly: presence of hepatomegaly N (No) or Y (Yes)\n9. Spiders: presence of spiders N (No) or Y (Yes)\n10. Edema: presence of edema N (no edema and no diuretic therapy for edema), S (edema present without diuretics, or edema resolved by diuretics), or Y (edema despite diuretic therapy)\n11. Bilirubin: serum bilirubin in [mg/dl]\n12. Cholesterol: serum cholesterol in [mg/dl]\n13. Albumin: albumin in [gm/dl]\n14. Copper: urine copper in [ug/day]\n15. Alk_Phos: alkaline phosphatase in [U/liter]\n16. SGOT: SGOT in [U/ml]\n17. Triglycerides: triglicerides in [mg/dl]\n18. Platelets: platelets per cubic [ml/1000]\n19. Prothrombin: prothrombin time in seconds [s]\n20. Stage: histologic stage of disease (1, 2, 3, or 4)\n&#39;, &#39;citation&#39;: &#39;Fleming, Thomas R., and David P. Harrington. Counting processes and survival analysis. Vol. 625. John Wiley &amp; Sons, 2013.&#39;}}
             name     role         type demographic  \
0              ID       ID      Integer        None   
1          N_Days    Other      Integer        None   
2          Status   Target  Categorical        None   
3            Drug  Feature  Categorical        None   
4             Age  Feature      Integer         Age   
5             Sex  Feature  Categorical         Sex   
6         Ascites  Feature  Categorical        None   
7    Hepatomegaly  Feature  Categorical        None   
8         Spiders  Feature  Categorical        None   
9           Edema  Feature  Categorical        None   
10      Bilirubin  Feature   Continuous        None   
11    Cholesterol  Feature      Integer        None   
12        Albumin  Feature   Continuous        None   
13         Copper  Feature      Integer        None   
14       Alk_Phos  Feature   Continuous        None   
15           SGOT  Feature   Continuous        None   
16  Tryglicerides  Feature      Integer        None   
17      Platelets  Feature      Integer        None   
18    Prothrombin  Feature   Continuous        None   
19          Stage  Feature  Categorical        None   

                                          description    units missing_values  
0                                   unique identifier     None             no  
1   number of days between registration and the ea...     None             no  
2   status of the patient C (censored), CL (censor...     None             no  
3             type of drug D-penicillamine or placebo     None            yes  
4                                                 age     days             no  
5                              M (male) or F (female)     None             no  
6               presence of ascites N (No) or Y (Yes)     None            yes  
7          presence of hepatomegaly N (No) or Y (Yes)     None            yes  
8               presence of spiders N (No) or Y (Yes)     None            yes  
9   presence of edema N (no edema and no diuretic ...     None             no  
10                                    serum bilirubin    mg/dl             no  
11                                  serum cholesterol    mg/dl            yes  
12                                            albumin    gm/dl             no  
13                                       urine copper   ug/day            yes  
14                               alkaline phosphatase  U/liter            yes  
15                                               SGOT     U/ml            yes  
16                                      tryglicerides     None            yes  
17                                platelets per cubic  ml/1000            yes  
18                                   prothrombin time        s            yes  
19        histologic stage of disease (1, 2, 3, or 4)     None            yes  
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis-data-dan-visualisasi-serta-korelasi-fitur-dalam-dataset-data-understanding">
<h2>1. Analisis Data dan Visualisasi Serta Korelasi Fitur dalam Dataset (DATA UNDERSTANDING)<a class="headerlink" href="#analisis-data-dan-visualisasi-serta-korelasi-fitur-dalam-dataset-data-understanding" title="Link to this heading">#</a></h2>
<p>data Teratas: Menampilkan lima baris pertama dataset yang membantu untuk melihat gambaran umum data dan memeriksa apakah ada masalah atau keanehan dalam pengambilan data.</p>
<p>Struktur Data: Dengan fungsi info(), kita mendapatkan gambaran tentang jumlah kolom, tipe data, serta jumlah data non-null pada setiap kolom. Ini penting untuk memastikan bahwa dataset terstruktur dengan benar.</p>
<p>Statistik Deskriptif: Fungsi describe() memberikan statistik dasar dari data numerik, seperti rata-rata, standar deviasi, nilai minimum dan maksimum, serta kuartil. Statistik deskriptif ini membantu dalam memahami distribusi dan variabilitas data.</p>
<p>Missing Values: Melalui pengecekan missing values, kita dapat mengetahui apakah ada data yang hilang dalam dataset. Hal ini penting untuk mengetahui langkah-langkah perbaikan yang diperlukan, seperti imputasi atau penghapusan baris/kolom yang mengandung missing value.</p>
<p>Distribusi Kategori: Untuk kolom kategorikal, kita melihat distribusi nilai menggunakan value_counts(). Ini penting untuk memahami proporsi masing-masing kategori dan apakah ada ketidakseimbangan dalam data yang dapat mempengaruhi analisis.</p>
<p>Distribusi Umur: Jika kolom Age ada, kita memvisualisasikan distribusinya dengan histogram dan KDE (Kernel Density Estimation). Ini memberikan gambaran visual tentang sebaran usia dalam dataset, apakah terdistribusi merata atau terkonsentrasi pada rentang usia tertentu.</p>
<p>Korelasi Antar Fitur: Dengan visualisasi heatmap korelasi, kita dapat melihat hubungan antar fitur numerik. Korelasi ini membantu dalam menentukan apakah ada fitur yang sangat berhubungan satu sama lain, yang dapat berguna dalam pemilihan fitur atau teknik pengurangan dimensi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Gabungkan fitur dan target agar mudah dianalisis bersama</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># 1. Tampilkan data teratas</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot; 5 Data Teratas:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># 2. Info struktur data</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Info Struktur Data:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>

<span class="c1"># 3. Statistik deskriptif</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Statistik Deskriptif:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">))</span>

<span class="c1"># 4. Cek missing value</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Jumlah Missing Values Tiap Kolom:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="c1"># 5. Distribusi kategori (jika ada kolom kategorikal)</span>
<span class="n">kategori_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">kategori_cols</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Distribusi nilai pada kolom &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39;:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># 6. Visualisasi distribusi umur (jika ada)</span>
<span class="k">if</span> <span class="s1">&#39;Age&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;salmon&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribusi Umur&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Umur&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frekuensi&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 7. Korelasi antar fitur numerik</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Korelasi antar fitur numerik&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Informasi Variabel:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 5 Data Teratas:
              Drug    Age Sex Ascites Hepatomegaly Spiders Edema  Bilirubin  \
0  D-penicillamine  21464   F       Y            Y       Y     Y       14.5   
1  D-penicillamine  20617   F       N            Y       Y     N        1.1   
2  D-penicillamine  25594   M       N            N       N     S        1.4   
3  D-penicillamine  19994   F       N            Y       Y     S        1.8   
4          Placebo  13918   F       N            Y       Y     N        3.4   

  Cholesterol  Albumin Copper  Alk_Phos    SGOT Tryglicerides Platelets  \
0         261     2.60    156    1718.0  137.95           172       190   
1         302     4.14     54    7394.8  113.52            88       221   
2         176     3.48    210     516.0   96.10            55       151   
3         244     2.54     64    6121.8   60.63            92       183   
4         279     3.53    143     671.0  113.15            72       136   

   Prothrombin  Stage Status  
0         12.2    4.0      D  
1         10.6    3.0      C  
2         12.0    4.0      D  
3         10.3    4.0      D  
4         10.9    3.0     CL  

 Info Struktur Data:
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 418 entries, 0 to 417
Data columns (total 18 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   Drug           313 non-null    object 
 1   Age            418 non-null    int64  
 2   Sex            418 non-null    object 
 3   Ascites        313 non-null    object 
 4   Hepatomegaly   313 non-null    object 
 5   Spiders        313 non-null    object 
 6   Edema          418 non-null    object 
 7   Bilirubin      418 non-null    float64
 8   Cholesterol    312 non-null    object 
 9   Albumin        418 non-null    float64
 10  Copper         312 non-null    object 
 11  Alk_Phos       312 non-null    float64
 12  SGOT           312 non-null    float64
 13  Tryglicerides  312 non-null    object 
 14  Platelets      411 non-null    object 
 15  Prothrombin    416 non-null    float64
 16  Stage          412 non-null    float64
 17  Status         418 non-null    object 
dtypes: float64(6), int64(1), object(11)
memory usage: 58.9+ KB
None

 Statistik Deskriptif:
                   Drug           Age  Sex Ascites Hepatomegaly Spiders Edema  \
count               313    418.000000  418     313          313     313   418   
unique                3           NaN    2       3            3       3     3   
top     D-penicillamine           NaN    F       N            Y       N     N   
freq                158           NaN  374     288          160     222   354   
mean                NaN  18533.351675  NaN     NaN          NaN     NaN   NaN   
std                 NaN   3815.845055  NaN     NaN          NaN     NaN   NaN   
min                 NaN   9598.000000  NaN     NaN          NaN     NaN   NaN   
25%                 NaN  15644.500000  NaN     NaN          NaN     NaN   NaN   
50%                 NaN  18628.000000  NaN     NaN          NaN     NaN   NaN   
75%                 NaN  21272.500000  NaN     NaN          NaN     NaN   NaN   
max                 NaN  28650.000000  NaN     NaN          NaN     NaN   NaN   

         Bilirubin Cholesterol     Albumin Copper      Alk_Phos        SGOT  \
count   418.000000         312  418.000000    312    312.000000  312.000000   
unique         NaN         202         NaN    159           NaN         NaN   
top            NaN        NaNN         NaN     52           NaN         NaN   
freq           NaN          28         NaN      8           NaN         NaN   
mean      3.220813         NaN    3.497440    NaN   1982.655769  122.556346   
std       4.407506         NaN    0.424972    NaN   2140.388824   56.699525   
min       0.300000         NaN    1.960000    NaN    289.000000   26.350000   
25%       0.800000         NaN    3.242500    NaN    871.500000   80.600000   
50%       1.400000         NaN    3.530000    NaN   1259.000000  114.700000   
75%       3.400000         NaN    3.770000    NaN   1980.000000  151.900000   
max      28.000000         NaN    4.640000    NaN  13862.400000  457.250000   

       Tryglicerides Platelets  Prothrombin       Stage Status  
count            312       411   416.000000  412.000000    418  
unique           147       244          NaN         NaN      3  
top             NaNN       344          NaN         NaN      C  
freq              30         6          NaN         NaN    232  
mean             NaN       NaN    10.731731    3.024272    NaN  
std              NaN       NaN     1.022000    0.882042    NaN  
min              NaN       NaN     9.000000    1.000000    NaN  
25%              NaN       NaN    10.000000    2.000000    NaN  
50%              NaN       NaN    10.600000    3.000000    NaN  
75%              NaN       NaN    11.100000    4.000000    NaN  
max              NaN       NaN    18.000000    4.000000    NaN  

 Jumlah Missing Values Tiap Kolom:
Drug             105
Age                0
Sex                0
Ascites          105
Hepatomegaly     105
Spiders          105
Edema              0
Bilirubin          0
Cholesterol      106
Albumin            0
Copper           106
Alk_Phos         106
SGOT             106
Tryglicerides    106
Platelets          7
Prothrombin        2
Stage              6
Status             0
dtype: int64

 Distribusi nilai pada kolom &#39;Drug&#39;:
Drug
D-penicillamine    158
Placebo            154
NaNN                 1
Name: count, dtype: int64

 Distribusi nilai pada kolom &#39;Sex&#39;:
Sex
F    374
M     44
Name: count, dtype: int64

 Distribusi nilai pada kolom &#39;Ascites&#39;:
Ascites
N       288
Y        24
NaNN      1
Name: count, dtype: int64

 Distribusi nilai pada kolom &#39;Hepatomegaly&#39;:
Hepatomegaly
Y       160
N       152
NaNN      1
Name: count, dtype: int64

 Distribusi nilai pada kolom &#39;Spiders&#39;:
Spiders
N       222
Y        90
NaNN      1
Name: count, dtype: int64

 Distribusi nilai pada kolom &#39;Edema&#39;:
Edema
N    354
S     44
Y     20
Name: count, dtype: int64

 Distribusi nilai pada kolom &#39;Cholesterol&#39;:
Cholesterol
NaNN    28
260      4
316      4
448      4
242      3
        ..
342      1
393      1
335      1
434      1
576      1
Name: count, Length: 202, dtype: int64

 Distribusi nilai pada kolom &#39;Copper&#39;:
Copper
52     8
67     7
58     6
75     6
73     5
      ..
196    1
100    1
90     1
234    1
186    1
Name: count, Length: 159, dtype: int64

 Distribusi nilai pada kolom &#39;Tryglicerides&#39;:
Tryglicerides
NaNN    30
118      7
91       6
90       6
101      5
        ..
153      1
127      1
144      1
59       1
82       1
Name: count, Length: 147, dtype: int64

 Distribusi nilai pada kolom &#39;Platelets&#39;:
Platelets
344    6
213    5
165    5
269    5
233    4
      ..
219    1
220    1
162    1
174    1
350    1
Name: count, Length: 244, dtype: int64

 Distribusi nilai pada kolom &#39;Status&#39;:
Status
C     232
D     161
CL     25
Name: count, dtype: int64
</pre></div>
</div>
<img alt="_images/6176d70197bce9741786d787c5c6b4c9e276c7253bc32e3046116296d2d014e2.png" src="_images/6176d70197bce9741786d787c5c6b4c9e276c7253bc32e3046116296d2d014e2.png" />
<img alt="_images/3398fa3647ce5a91544d14c20eec2cbb138516d263d478f18d0871e1e24e7f71.png" src="_images/3398fa3647ce5a91544d14c20eec2cbb138516d263d478f18d0871e1e24e7f71.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Informasi Variabel:
             name     role         type demographic  \
0              ID       ID      Integer        None   
1          N_Days    Other      Integer        None   
2          Status   Target  Categorical        None   
3            Drug  Feature  Categorical        None   
4             Age  Feature      Integer         Age   
5             Sex  Feature  Categorical         Sex   
6         Ascites  Feature  Categorical        None   
7    Hepatomegaly  Feature  Categorical        None   
8         Spiders  Feature  Categorical        None   
9           Edema  Feature  Categorical        None   
10      Bilirubin  Feature   Continuous        None   
11    Cholesterol  Feature      Integer        None   
12        Albumin  Feature   Continuous        None   
13         Copper  Feature      Integer        None   
14       Alk_Phos  Feature   Continuous        None   
15           SGOT  Feature   Continuous        None   
16  Tryglicerides  Feature      Integer        None   
17      Platelets  Feature      Integer        None   
18    Prothrombin  Feature   Continuous        None   
19          Stage  Feature  Categorical        None   

                                          description    units missing_values  
0                                   unique identifier     None             no  
1   number of days between registration and the ea...     None             no  
2   status of the patient C (censored), CL (censor...     None             no  
3             type of drug D-penicillamine or placebo     None            yes  
4                                                 age     days             no  
5                              M (male) or F (female)     None             no  
6               presence of ascites N (No) or Y (Yes)     None            yes  
7          presence of hepatomegaly N (No) or Y (Yes)     None            yes  
8               presence of spiders N (No) or Y (Yes)     None            yes  
9   presence of edema N (no edema and no diuretic ...     None             no  
10                                    serum bilirubin    mg/dl             no  
11                                  serum cholesterol    mg/dl            yes  
12                                            albumin    gm/dl             no  
13                                       urine copper   ug/day            yes  
14                               alkaline phosphatase  U/liter            yes  
15                                               SGOT     U/ml            yes  
16                                      tryglicerides     None            yes  
17                                platelets per cubic  ml/1000            yes  
18                                   prothrombin time        s            yes  
19        histologic stage of disease (1, 2, 3, or 4)     None            yes  
</pre></div>
</div>
</div>
</div>
</section>
<section id="pemrosesan-awal-data-preprocessing">
<h2>2. Pemrosesan awal data (Preprocessing)<a class="headerlink" href="#pemrosesan-awal-data-preprocessing" title="Link to this heading">#</a></h2>
<p>Kode di bawah melakukan serangkaian tahapan preprocessing data untuk dataset pasien sirosis hati. Pertama, data numerik dan kategorikal dipisahkan untuk memudahkan imputasi nilai yang hilang.</p>
<p>Kolom numerik diimputasi menggunakan rata-rata (mean), sementara kolom kategorikal diimputasi menggunakan nilai yang paling sering muncul (most_frequent). Setelah itu, kolom numerik dan kategorikal yang telah diimputasi digabungkan kembali. Selanjutnya, kolom kategorikal diubah menjadi variabel biner (one-hot encoding) menggunakan pd.get_dummies(). Fitur numerik kemudian distandarisasi dengan menggunakan StandardScaler untuk memastikan bahwa setiap fitur memiliki skala yang sama. Terakhir, data dipisahkan menjadi data pelatihan dan pengujian (80:20) dengan menggunakan train_test_split. Hasil akhir dari preprocessing ini adalah data yang siap digunakan untuk analisis atau pelatihan model, dengan ukuran data pelatihan dan pengujian yang ditampilkan pada output.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">SimpleImputer</span>

<span class="c1"># Mengambil data dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">cirrhosis_patient_survival_prediction</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># Menampilkan kolom-kolom dalam X</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Kolom dalam X:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># 1. Memisahkan kolom numerik dan kategorikal</span>
<span class="n">num_cols</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">,</span> <span class="s1">&#39;int64&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span>
<span class="n">cat_cols</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># 2. Imputasi untuk kolom numerik (menggunakan mean)</span>
<span class="n">num_imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">X_num</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">num_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">num_cols</span><span class="p">]),</span> <span class="n">columns</span><span class="o">=</span><span class="n">num_cols</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setelah imputasi kolom numerik:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_num</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Menampilkan 5 baris pertama dari kolom numerik yang telah diimputasi</span>

<span class="c1"># 3. Imputasi untuk kolom kategorikal (menggunakan modus / nilai yang paling sering muncul)</span>
<span class="n">cat_imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;most_frequent&#39;</span><span class="p">)</span>
<span class="n">X_cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cat_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">cat_cols</span><span class="p">]),</span> <span class="n">columns</span><span class="o">=</span><span class="n">cat_cols</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setelah imputasi kolom kategorikal:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_cat</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Menampilkan 5 baris pertama dari kolom kategorikal yang telah diimputasi</span>

<span class="c1"># 4. Menggabungkan kembali kolom numerik dan kategorikal</span>
<span class="n">X_clean</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_num</span><span class="p">,</span> <span class="n">X_cat</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setelah penggabungan kolom numerik dan kategorikal:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_clean</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Menampilkan 5 baris pertama setelah penggabungan</span>

<span class="c1"># 5. Encoding kolom kategorikal</span>
<span class="n">X_encoded</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">X_clean</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setelah encoding kolom kategorikal:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_encoded</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Menampilkan 5 baris pertama setelah encoding</span>

<span class="c1"># 6. Scaling fitur numerik</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_encoded</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setelah scaling fitur numerik:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_encoded</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Menampilkan 5 baris pertama setelah scaling</span>

<span class="c1"># 7. Memisahkan data menjadi training dan testing set</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Menampilkan informasi mengenai data setelah preprocessing</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data setelah preprocessing:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shape data training: </span><span class="si">{</span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shape data testing: </span><span class="si">{</span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Kolom dalam X:
Index([&#39;Drug&#39;, &#39;Age&#39;, &#39;Sex&#39;, &#39;Ascites&#39;, &#39;Hepatomegaly&#39;, &#39;Spiders&#39;, &#39;Edema&#39;,
       &#39;Bilirubin&#39;, &#39;Cholesterol&#39;, &#39;Albumin&#39;, &#39;Copper&#39;, &#39;Alk_Phos&#39;, &#39;SGOT&#39;,
       &#39;Tryglicerides&#39;, &#39;Platelets&#39;, &#39;Prothrombin&#39;, &#39;Stage&#39;],
      dtype=&#39;object&#39;)

Setelah imputasi kolom numerik:
       Age  Bilirubin  Albumin  Alk_Phos    SGOT  Prothrombin  Stage
0  21464.0       14.5     2.60    1718.0  137.95         12.2    4.0
1  20617.0        1.1     4.14    7394.8  113.52         10.6    3.0
2  25594.0        1.4     3.48     516.0   96.10         12.0    4.0
3  19994.0        1.8     2.54    6121.8   60.63         10.3    4.0
4  13918.0        3.4     3.53     671.0  113.15         10.9    3.0

Setelah imputasi kolom kategorikal:
              Drug Sex Ascites Hepatomegaly Spiders Edema Cholesterol Copper  \
0  D-penicillamine   F       Y            Y       Y     Y         261    156   
1  D-penicillamine   F       N            Y       Y     N         302     54   
2  D-penicillamine   M       N            N       N     S         176    210   
3  D-penicillamine   F       N            Y       Y     S         244     64   
4          Placebo   F       N            Y       Y     N         279    143   

  Tryglicerides Platelets  
0           172       190  
1            88       221  
2            55       151  
3            92       183  
4            72       136  

Setelah penggabungan kolom numerik dan kategorikal:
       Age  Bilirubin  Albumin  Alk_Phos    SGOT  Prothrombin  Stage  \
0  21464.0       14.5     2.60    1718.0  137.95         12.2    4.0   
1  20617.0        1.1     4.14    7394.8  113.52         10.6    3.0   
2  25594.0        1.4     3.48     516.0   96.10         12.0    4.0   
3  19994.0        1.8     2.54    6121.8   60.63         10.3    4.0   
4  13918.0        3.4     3.53     671.0  113.15         10.9    3.0   

              Drug Sex Ascites Hepatomegaly Spiders Edema Cholesterol Copper  \
0  D-penicillamine   F       Y            Y       Y     Y         261    156   
1  D-penicillamine   F       N            Y       Y     N         302     54   
2  D-penicillamine   M       N            N       N     S         176    210   
3  D-penicillamine   F       N            Y       Y     S         244     64   
4          Placebo   F       N            Y       Y     N         279    143   

  Tryglicerides Platelets  
0           172       190  
1            88       221  
2            55       151  
3            92       183  
4            72       136  

Setelah encoding kolom kategorikal:
       Age  Bilirubin  Albumin  Alk_Phos    SGOT  Prothrombin  Stage  \
0  21464.0       14.5     2.60    1718.0  137.95         12.2    4.0   
1  20617.0        1.1     4.14    7394.8  113.52         10.6    3.0   
2  25594.0        1.4     3.48     516.0   96.10         12.0    4.0   
3  19994.0        1.8     2.54    6121.8   60.63         10.3    4.0   
4  13918.0        3.4     3.53     671.0  113.15         10.9    3.0   

   Drug_D-penicillamine  Drug_NaNN  Drug_Placebo  ...  Platelets_721  \
0                  True      False         False  ...          False   
1                  True      False         False  ...          False   
2                  True      False         False  ...          False   
3                  True      False         False  ...          False   
4                 False      False          True  ...          False   

   Platelets_76  Platelets_79  Platelets_80  Platelets_81  Platelets_88  \
0         False         False         False         False         False   
1         False         False         False         False         False   
2         False         False         False         False         False   
3         False         False         False         False         False   
4         False         False         False         False         False   

   Platelets_92  Platelets_95  Platelets_97  Platelets_NaNN  
0         False         False         False           False  
1         False         False         False           False  
2         False         False         False           False  
3         False         False         False           False  
4         False         False         False           False  

[5 rows x 776 columns]

Setelah scaling fitur numerik:
        Age  Bilirubin   Albumin  Alk_Phos      SGOT  Prothrombin     Stage  \
0  0.768941   2.562152 -2.114296 -0.143350  0.314753     1.441846  1.115596   
1  0.546706  -0.481759  1.513818  2.931464 -0.184766    -0.129360 -0.027751   
2  1.852567  -0.413611 -0.041088 -0.794408 -0.540952     1.245445  1.115596   
3  0.383244  -0.322748 -2.255651  2.241950 -1.266205    -0.423961  1.115596   
4 -1.210972   0.040704  0.076708 -0.710453 -0.192331     0.165241 -0.027751   

   Drug_D-penicillamine  Drug_NaNN  Drug_Placebo  ...  Platelets_721  \
0              0.767694   -0.04897     -0.763763  ...       -0.04897   
1              0.767694   -0.04897     -0.763763  ...       -0.04897   
2              0.767694   -0.04897     -0.763763  ...       -0.04897   
3              0.767694   -0.04897     -0.763763  ...       -0.04897   
4             -1.302603   -0.04897      1.309307  ...       -0.04897   

   Platelets_76  Platelets_79  Platelets_80  Platelets_81  Platelets_88  \
0      -0.04897      -0.04897     -0.069338      -0.04897      -0.04897   
1      -0.04897      -0.04897     -0.069338      -0.04897      -0.04897   
2      -0.04897      -0.04897     -0.069338      -0.04897      -0.04897   
3      -0.04897      -0.04897     -0.069338      -0.04897      -0.04897   
4      -0.04897      -0.04897     -0.069338      -0.04897      -0.04897   

   Platelets_92  Platelets_95  Platelets_97  Platelets_NaNN  
0      -0.04897     -0.069338      -0.04897       -0.098295  
1      -0.04897     -0.069338      -0.04897       -0.098295  
2      -0.04897     -0.069338      -0.04897       -0.098295  
3      -0.04897     -0.069338      -0.04897       -0.098295  
4      -0.04897     -0.069338      -0.04897       -0.098295  

[5 rows x 776 columns]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data setelah preprocessing:
Shape data training: (334, 776)
Shape data testing: (84, 776)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 1. Visualisasi distribusi kolom numerik sebelum dan setelah imputasi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Sebelum imputasi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="n">num_cols</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Kolom Numerik Sebelum Imputasi&quot;</span><span class="p">)</span>

<span class="c1"># Setelah imputasi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">X_num</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Kolom Numerik Setelah Imputasi&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 2. Visualisasi distribusi kolom kategorikal (sebelum dan setelah encoding)</span>
<span class="c1"># Sebelum encoding</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">X_cat_mode</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">cat_cols</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Mengambil modus sebagai representasi</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="n">cat_cols</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Kolom Kategorikal Sebelum Encoding&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 3. Visualisasi distribusi fitur numerik setelah scaling</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_encoded</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Kolom Numerik Setelah Scaling&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/79d151341d18fed9390ce37d03f57fd383f51ddc4dd7ad49571d3d81015b85cd.png" src="_images/79d151341d18fed9390ce37d03f57fd383f51ddc4dd7ad49571d3d81015b85cd.png" />
<img alt="_images/b2e7af07383907f9e83bb663bc431f9b8b4a6bf36abcc88e29e4913db7241d92.png" src="_images/b2e7af07383907f9e83bb663bc431f9b8b4a6bf36abcc88e29e4913db7241d92.png" />
<img alt="_images/38f5f4a17245eda57ad1e47b9c14115506583e6eb3a8332c6dcd6a7b57509bb5.png" src="_images/38f5f4a17245eda57ad1e47b9c14115506583e6eb3a8332c6dcd6a7b57509bb5.png" />
</div>
</div>
</section>
<section id="pemodelan-model-klasifikasi">
<h2>3. Pemodelan (model klasifikasi)<a class="headerlink" href="#pemodelan-model-klasifikasi" title="Link to this heading">#</a></h2>
<p>Pada tahap pemodelan, dua algoritma klasifikasi digunakan yaitu <strong>Logistic Regression</strong> dan <strong>Random Forest</strong>. Logistic Regression digunakan sebagai baseline model karena sederhana dan efektif untuk interpretasi awal. Model ini dilatih menggunakan data training yang telah dipreproses, kemudian dilakukan prediksi terhadap data testing. Hasil evaluasi menunjukkan akurasi sekitar 64%, namun model ini kurang mampu memprediksi kelas minoritas seperti ‘CL’, ditunjukkan dengan nilai precision dan recall yang nol.</p>
<p>Sebaliknya, model <strong>Random Forest</strong> menunjukkan performa lebih baik dengan akurasi mencapai 75%. Model ini mampu menangani kompleksitas data dan menghasilkan prediksi yang lebih seimbang antar kelas dibandingkan Logistic Regression. Meskipun kelas ‘CL’ tetap sulit diprediksi karena data yang tidak seimbang, Random Forest memberikan nilai f1-score dan recall yang lebih tinggi untuk kelas ‘C’ dan ‘D’, menunjukkan kemampuannya menangkap pola yang lebih kompleks dalam data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>

<span class="c1"># 1. Pemodelan dengan Logistic Regression</span>
<span class="n">log_reg_model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">log_reg_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># 2. Prediksi dengan Logistic Regression</span>
<span class="n">y_pred_log_reg</span> <span class="o">=</span> <span class="n">log_reg_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># 3. Evaluasi model Logistic Regression</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Model Logistic Regression:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_log_reg</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Classification Report:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_log_reg</span><span class="p">))</span>

<span class="c1"># 4. Pemodelan dengan Random Forest</span>
<span class="n">rf_model</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># 5. Prediksi dengan Random Forest</span>
<span class="n">y_pred_rf</span> <span class="o">=</span> <span class="n">rf_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># 6. Evaluasi model Random Forest</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Model Random Forest:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Classification Report:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/codespace/.local/lib/python3.12/site-packages/sklearn/utils/validation.py:1408: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
/home/codespace/.local/lib/python3.12/site-packages/sklearn/base.py:1389: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  return fit_method(estimator, *args, **kwargs)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model Logistic Regression:
Accuracy: 0.6428571428571429

Classification Report:
              precision    recall  f1-score   support

           C       0.65      0.75      0.69        44
          CL       0.00      0.00      0.00         4
           D       0.70      0.58      0.64        36

    accuracy                           0.64        84
   macro avg       0.45      0.44      0.44        84
weighted avg       0.64      0.64      0.64        84


Model Random Forest:
Accuracy: 0.75

Classification Report:
              precision    recall  f1-score   support

           C       0.77      0.84      0.80        44
          CL       0.00      0.00      0.00         4
           D       0.72      0.72      0.72        36

    accuracy                           0.75        84
   macro avg       0.50      0.52      0.51        84
weighted avg       0.71      0.75      0.73        84
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/codespace/.local/lib/python3.12/site-packages/sklearn/metrics/_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f&quot;{metric.capitalize()} is&quot;, len(result))
/home/codespace/.local/lib/python3.12/site-packages/sklearn/metrics/_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f&quot;{metric.capitalize()} is&quot;, len(result))
/home/codespace/.local/lib/python3.12/site-packages/sklearn/metrics/_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f&quot;{metric.capitalize()} is&quot;, len(result))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># 7. Menampilkan 10 fitur paling penting dari Random Forest</span>
<span class="n">feature_importances</span> <span class="o">=</span> <span class="n">rf_model</span><span class="o">.</span><span class="n">feature_importances_</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X_encoded</span><span class="o">.</span><span class="n">columns</span>  <span class="c1"># Asumsikan X_encoded adalah nama dataframe setelah encoding</span>
<span class="n">feat_imp_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Feature&#39;</span><span class="p">:</span> <span class="n">feature_names</span><span class="p">,</span> <span class="s1">&#39;Importance&#39;</span><span class="p">:</span> <span class="n">feature_importances</span><span class="p">})</span>
<span class="n">feat_imp_df</span> <span class="o">=</span> <span class="n">feat_imp_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># 8. Visualisasi fitur penting</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Feature&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">feat_imp_df</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;10 Fitur Terpenting - Random Forest&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tingkat Kepentingan&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Fitur&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_11130/964948345.py:13: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `y` variable to `hue` and set `legend=False` for the same effect.

  sns.barplot(x=&#39;Importance&#39;, y=&#39;Feature&#39;, data=feat_imp_df, palette=&#39;viridis&#39;)
</pre></div>
</div>
<img alt="_images/f28568eb266be799afdf461851ab38e37329bfa9714fe95838fb66446c6dad3c.png" src="_images/f28568eb266be799afdf461851ab38e37329bfa9714fe95838fb66446c6dad3c.png" />
</div>
</div>
</section>
<section id="evaluasi">
<h2>Evaluasi<a class="headerlink" href="#evaluasi" title="Link to this heading">#</a></h2>
<p>Pada tahapan evaluasi ini, dua model klasifikasi yaitu Logistic Regression dan Random Forest digunakan untuk memprediksi kelangsungan hidup pasien sirosis berdasarkan data yang telah melalui tahap praproses. Model Logistic Regression merupakan metode linier yang bekerja dengan baik pada data yang memiliki hubungan linear antar fitur. Model ini dilatih menggunakan data training dan diuji menggunakan data testing, menghasilkan nilai akurasi dan metrik evaluasi lainnya seperti precision, recall, dan f1-score yang diperoleh melalui classification_report. Hasil evaluasi ini memberikan gambaran awal sejauh mana model dapat membedakan antara kelas-kelas yang ada pada data target.</p>
<p>Sementara itu, Random Forest adalah metode ensemble berbasis pohon keputusan yang cenderung lebih kuat dalam menangani data yang kompleks dan non-linear. Dengan menggunakan beberapa pohon keputusan secara bersamaan, Random Forest dapat meningkatkan akurasi dan mengurangi risiko overfitting. Setelah model ini dilatih, hasil prediksi dievaluasi dengan cara yang sama seperti Logistic Regression. Melalui perbandingan akurasi dan metrik-metrik lainnya, dapat dilihat model mana yang memberikan performa terbaik dalam klasifikasi kelangsungan hidup pasien. Evaluasi ini sangat penting untuk menentukan model yang paling layak digunakan pada implementasi nyata.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="c1"># Logistic Regression</span>
<span class="n">logreg</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">logreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_logreg</span> <span class="o">=</span> <span class="n">logreg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Evaluasi Model Logistic Regression:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_logreg</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Classification Report:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_logreg</span><span class="p">,</span> <span class="n">zero_division</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

<span class="c1"># Visualisasi Confusion Matrix untuk Logistic Regression</span>
<span class="n">cm_logreg</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_logreg</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm_logreg</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">logreg</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span> <span class="n">yticklabels</span><span class="o">=</span><span class="n">logreg</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Confusion Matrix - Logistic Regression&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Predicted&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Actual&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Random Forest</span>
<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_rf</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Evaluasi Model Random Forest:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Classification Report:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">,</span> <span class="n">zero_division</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

<span class="c1"># Visualisasi Confusion Matrix untuk Random Forest</span>
<span class="n">cm_rf</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm_rf</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens&#39;</span><span class="p">,</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">rf</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span> <span class="n">yticklabels</span><span class="o">=</span><span class="n">rf</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Confusion Matrix - Random Forest&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Predicted&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Actual&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/codespace/.local/lib/python3.12/site-packages/sklearn/utils/validation.py:1408: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Evaluasi Model Logistic Regression:
Accuracy: 0.6428571428571429
Classification Report:
               precision    recall  f1-score   support

           C       0.65      0.75      0.69        44
          CL       0.00      0.00      0.00         4
           D       0.70      0.58      0.64        36

    accuracy                           0.64        84
   macro avg       0.45      0.44      0.44        84
weighted avg       0.64      0.64      0.64        84
</pre></div>
</div>
<img alt="_images/fe7744f16db06a28de986a380f28f665b4f998b2e7a0462fc4e520268bd36289.png" src="_images/fe7744f16db06a28de986a380f28f665b4f998b2e7a0462fc4e520268bd36289.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/codespace/.local/lib/python3.12/site-packages/sklearn/base.py:1389: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().
  return fit_method(estimator, *args, **kwargs)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Evaluasi Model Random Forest:
Accuracy: 0.75
Classification Report:
               precision    recall  f1-score   support

           C       0.77      0.84      0.80        44
          CL       0.00      0.00      0.00         4
           D       0.72      0.72      0.72        36

    accuracy                           0.75        84
   macro avg       0.50      0.52      0.51        84
weighted avg       0.71      0.75      0.73        84
</pre></div>
</div>
<img alt="_images/99c712077d355e8350c921fe866af7f3eac3ebf407c2dd4684682fa33935113b.png" src="_images/99c712077d355e8350c921fe866af7f3eac3ebf407c2dd4684682fa33935113b.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="lof.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">LOF</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-dataset">Import dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-data-dan-visualisasi-serta-korelasi-fitur-dalam-dataset-data-understanding">1. Analisis Data dan Visualisasi Serta Korelasi Fitur dalam Dataset (DATA UNDERSTANDING)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemrosesan-awal-data-preprocessing">2. Pemrosesan awal data (Preprocessing)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemodelan-model-klasifikasi">3. Pemodelan (model klasifikasi)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Malikzert
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>

<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Prediksi Hepatitis C Berdasarkan Data Pasien Mesir dengan Berbagai Metode Diskritisasi &#8212; PENAMBANGAN DATA E</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Tugas_Pra_Uas';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Teknik Binning" href="binnings.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/malik.jpg" class="logo__image only-light" alt="PENAMBANGAN DATA E - Home"/>
    <img src="_static/malik.jpg" class="logo__image only-dark pst-js-only" alt="PENAMBANGAN DATA E - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Selamat datang, Matkul Pendata
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tugas1.html">Tugas1 penambangan data</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Tugas2.html"><strong>Tugas 2 data_understanding</strong></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="lof.html">LOF</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="UTS.html">Proyek UTS Pendata</a></li>
<li class="toctree-l1"><a class="reference internal" href="KMeans.html">K-MEANS CLUSTER 2,3 DAN 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fuzzy_CMeans.html"><strong>FUZZY C-MEANS CLUSTERING</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">Decision tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="binnings.html">Teknik Binning</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Prediksi Hepatitis C Berdasarkan Data Pasien Mesir dengan Berbagai Metode Diskritisasi</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FTugas_Pra_Uas.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Tugas_Pra_Uas.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Prediksi Hepatitis C Berdasarkan Data Pasien Mesir dengan Berbagai Metode Diskritisasi</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapkan-dataset">1. Persiapkan Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sumber-dataset">Sumber Dataset</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">2. Data Understanding</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-penjelasan-fitur-variabel-data">a. Penjelasan fitur / variabel data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-ekplorasi-data-tersebut">b.	Ekplorasi data tersebut</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-visualisasikan-data">c.	Visualisasikan data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-data">3.	Prepocessing data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-normalisasi-data">a. Normalisasi Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-encoding-kategori">b. Encoding kategori</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-terhadap-data">4. klasifikasi terhadap data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model">5.	Evaluasi model</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="prediksi-hepatitis-c-berdasarkan-data-pasien-mesir-dengan-berbagai-metode-diskritisasi">
<h1>Prediksi Hepatitis C Berdasarkan Data Pasien Mesir dengan Berbagai Metode Diskritisasi<a class="headerlink" href="#prediksi-hepatitis-c-berdasarkan-data-pasien-mesir-dengan-berbagai-metode-diskritisasi" title="Link to this heading">#</a></h1>
<section id="persiapkan-dataset">
<h2>1. Persiapkan Dataset<a class="headerlink" href="#persiapkan-dataset" title="Link to this heading">#</a></h2>
<p>Langkah awal mengambil dataset “Hepatitis C Virus (HCV) for Egyptian Patients” dari UCI Machine Learning Repository menggunakan pustaka ucimlrepo. Setelah dataset di-fetch, data fitur (X) dan data target/label (y) diekstraksi dalam bentuk DataFrame. Selain itu, kode juga menampilkan informasi metadata dari dataset (seperti nama dataset, sumber, jumlah fitur, dll.) serta rincian masing-masing variabel (nama fitur, tipe data, deskripsi, dan apakah mengandung nilai yang hilang). Hal ini penting sebagai bagian dari proses data understanding untuk mengenali struktur dan karakteristik data sebelum dilakukan analisis atau pemodelan lebih lanjut.</p>
<section id="sumber-dataset">
<h3>Sumber Dataset<a class="headerlink" href="#sumber-dataset" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://archive.ics.uci.edu/dataset/503/hepatitis+c+virus+hcv+for+egyptian+patients">https://archive.ics.uci.edu/dataset/503/hepatitis+c+virus+hcv+for+egyptian+patients</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ucimlrepo
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ucimlrepo in /home/codespace/.python/current/lib/python3.12/site-packages (0.0.7)
Requirement already satisfied: pandas&gt;=1.0.0 in /home/codespace/.local/lib/python3.12/site-packages (from ucimlrepo) (2.2.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: certifi&gt;=2020.12.5 in /home/codespace/.local/lib/python3.12/site-packages (from ucimlrepo) (2024.8.30)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy&gt;=1.26.0 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.2.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /home/codespace/.local/lib/python3.12/site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.2)
Requirement already satisfied: six&gt;=1.5 in /home/codespace/.local/lib/python3.12/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;=1.0.0-&gt;ucimlrepo) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.0.1</span> -&gt; <span class=" -Color -Color-Green">25.1.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">,</span> <span class="n">f1_score</span>

<span class="c1"># Fetch dataset HCV</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>

<span class="c1"># Pisahkan fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># Gabungkan fitur dan target jadi 1 dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Tentukan target yang ingin diprediksi (contoh: Baselinehistological staging)</span>
<span class="c1"># Pastikan target bersifat kategorikal</span>
<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>

<span class="c1"># Buang baris yang memiliki missing value</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">target_col</span><span class="p">])</span>  <span class="c1"># pastikan target tidak null</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>  <span class="c1"># drop seluruh missing value agar training lancar</span>

<span class="c1"># Pisahkan kembali fitur dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">target_col</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span>

<span class="c1"># Encode label jika bertipe kategori non-numerik (jika perlu)</span>
<span class="k">if</span> <span class="n">y</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Bagi data menjadi latih dan uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>

<span class="c1"># Buat dan latih model Random Forest</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Evaluasi hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Evaluasi Model Random Forest ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi      :&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Presisi      :&quot;</span><span class="p">,</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recall       :&quot;</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1 Score     :&quot;</span><span class="p">,</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">))</span>

<span class="c1"># Cetak sebagian data</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Contoh X Train ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Contoh X Test ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Y Test Asli ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Y Prediksi ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y_pred</span><span class="p">[:</span><span class="mi">5</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Evaluasi Model Random Forest ===
Akurasi      : 0.3249097472924188
Presisi      : 0.33026739576697106
Recall       : 0.3249097472924188
F1 Score     : 0.32054640923122757

=== Contoh X Train ===
      Age   Gender  BMI  Fever  Nausea/Vomting  Headache   Diarrhea   \
630     35       2   35      2               2          2          2   
1155    57       2   24      2               2          1          1   
948     55       1   30      2               2          1          2   
944     61       2   23      2               2          1          2   
701     57       1   29      1               1          2          2   

      Fatigue &amp; generalized bone ache   Jaundice   Epigastric pain   ...  \
630                                  1          1                 2  ...   
1155                                 1          2                 2  ...   
948                                  1          1                 2  ...   
944                                  1          2                 1  ...   
701                                  1          1                 2  ...   

      ALT 24  ALT 36  ALT 48  ALT after 24 w  RNA Base    RNA 4  RNA 12  \
630       72      83     118              34    512261   741805  179888   
1155      56      99      60              30   1181833   811141  534294   
948       71      98      62              25   1183216  1039978   69432   
944       92     116      98              35    176923   548229  439001   
701       90      60     103              25    649229    83513       5   

      RNA EOT  RNA EF  Baseline histological Grading  
630    385271   66591                             14  
1155   285857  260052                              5  
948    383873  509684                              5  
944    316184  649875                             11  
701         5       5                              5  

[5 rows x 28 columns]

=== Contoh X Test ===
      Age   Gender  BMI  Fever  Nausea/Vomting  Headache   Diarrhea   \
1128    52       1   23      2               2          2          1   
237     51       1   30      1               2          1          1   
163     39       2   29      2               2          2          1   
739     55       2   35      1               1          2          2   
51      56       2   23      1               1          1          2   

      Fatigue &amp; generalized bone ache   Jaundice   Epigastric pain   ...  \
1128                                 1          2                 1  ...   
237                                  1          1                 1  ...   
163                                  1          1                 1  ...   
739                                  2          2                 1  ...   
51                                   2          2                 2  ...   

      ALT 24  ALT 36  ALT 48  ALT after 24 w  RNA Base    RNA 4  RNA 12  \
1128      85      80      55              40    326964   634114       5   
237       46     124      47              44   1128295   722676       5   
163       60      53      84              28     87557   139368   47678   
739       47     114      84              45     49315  1070974       5   
51        80      76     101              43    508849   130739   43228   

      RNA EOT  RNA EF  Baseline histological Grading  
1128        5       5                             12  
237         5       5                              5  
163    697035   26909                              8  
739         5       5                             11  
51     300616   92124                             13  

[5 rows x 28 columns]

=== Y Test Asli ===
1128    3
237     4
163     3
739     2
51      2
Name: Baselinehistological staging, dtype: int64

=== Y Prediksi ===
0    4
1    4
2    1
3    2
4    2
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="data-understanding">
<h2>2. Data Understanding<a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h2>
<section id="a-penjelasan-fitur-variabel-data">
<h3>a. Penjelasan fitur / variabel data<a class="headerlink" href="#a-penjelasan-fitur-variabel-data" title="Link to this heading">#</a></h3>
<p>Berikut merupakan penjelasan mengenai fitur yang digunakan menggunakan dataset hepatitis c virus</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>No</p></th>
<th class="head"><p><strong>Nama Fitur</strong></p></th>
<th class="head"><p><strong>Tipe</strong></p></th>
<th class="head"><p><strong>Keterangan</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Age</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Usia pasien. Merupakan variabel demografi.</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Gender</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Jenis kelamin pasien: [Male], [Female]. Termasuk variabel demografi.</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BMI</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Body Mass Index (Indeks Massa Tubuh) pasien.</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Fever</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Apakah pasien mengalami demam: [Absent], [Present].</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Nausea/Vomiting</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Mual/muntah: [Absent], [Present].</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Headache</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Sakit kepala: [Absent], [Present].</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Diarrhea</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Diare: [Absent], [Present].</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Fatigue</span> <span class="pre">&amp;</span> <span class="pre">generalized</span> <span class="pre">bone</span> <span class="pre">ache</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Kelelahan dan nyeri tulang: [Absent], [Present].</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Jaundice</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Apakah mengalami penyakit kuning: [Absent], [Present].</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Epigastric</span> <span class="pre">pain</span></code></p></td>
<td><p>Binary</p></td>
<td><p>Nyeri pada daerah epigastrik: [Absent], [Present].</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WBC</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah sel darah putih (White Blood Cells).</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RBC</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah sel darah merah (Red Blood Cells).</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HGB</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar Hemoglobin.</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Plat</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah trombosit (Platelets).</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AST</span> <span class="pre">1</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar AST (Aspartate Transaminase) minggu pertama.</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">1</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT (Alanine Transaminase) minggu pertama.</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT4</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT minggu ke-4.</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">12</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT minggu ke-12.</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">24</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT minggu ke-24.</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">36</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT minggu ke-36.</p></td>
</tr>
<tr class="row-even"><td><p>21</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">48</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT minggu ke-48.</p></td>
</tr>
<tr class="row-odd"><td><p>22</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">after</span> <span class="pre">24</span> <span class="pre">w</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Kadar ALT setelah 24 minggu.</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RNA</span> <span class="pre">Base</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah RNA pada baseline.</p></td>
</tr>
<tr class="row-odd"><td><p>24</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RNA</span> <span class="pre">4</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah RNA minggu ke-4.</p></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RNA</span> <span class="pre">12</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah RNA minggu ke-12.</p></td>
</tr>
<tr class="row-odd"><td><p>26</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RNA</span> <span class="pre">EOT</span></code></p></td>
<td><p>Integer</p></td>
<td><p>Jumlah RNA di akhir perawatan (End Of Treatment).</p></td>
</tr>
<tr class="row-even"><td><p>27</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RNA</span> <span class="pre">EF</span></code></p></td>
<td><p>Integer</p></td>
<td><p>RNA Elongation Factor (jumlah RNA setelah masa pemulihan).</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Baseline</span> <span class="pre">histological</span> <span class="pre">Grading</span></code></p></td>
<td><p>Categorical</p></td>
<td><p>Kategori penilaian histologis awal (misalnya: tingkat peradangan).</p></td>
</tr>
<tr class="row-even"><td><p>29</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Baselinehistological</span> <span class="pre">staging</span></code></p></td>
<td><p>Categorical (Target)</p></td>
<td><p>Target label: Tahap perkembangan fibrosis hati berdasarkan histologi.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="b-ekplorasi-data-tersebut">
<h3>b.	Ekplorasi data tersebut<a class="headerlink" href="#b-ekplorasi-data-tersebut" title="Link to this heading">#</a></h3>
<p>Kode Di bawah melakukan proses eksplorasi data awal (data exploration) untuk dataset Hepatitis C Virus for Egyptian Patients yang diambil dari UCI Machine Learning Repository. Langkah pertama yang dilakukan adalah memeriksa keberadaan missing value pada seluruh kolom dataset. Ini penting untuk memastikan kualitas data sebelum dilakukan pemodelan atau analisis lanjutan. Jika ditemukan nilai kosong, biasanya perlu dilakukan penanganan seperti imputasi (pengisian) atau penghapusan baris/kolom. Namun dalam hasil eksekusi kode ini, tampaknya seluruh kolom tidak memiliki missing value karena hasilnya menunjukkan 0 untuk semua kolom.</p>
<p>Selanjutnya, kode memeriksa outlier (nilai ekstrem) pada setiap kolom numerik menggunakan metode IQR (Interquartile Range). Outlier sering menjadi indikator data yang tidak lazim atau error pencatatan, dan dapat mempengaruhi kinerja model prediksi. Dengan menghitung Q1 (kuartil bawah), Q3 (kuartil atas), dan IQR, nilai-nilai yang berada di luar batas normal (Q1 - 1.5<em>IQR atau Q3 + 1.5</em>IQR) akan dihitung sebagai outlier. Terakhir, kode mencetak distribusi dari kelas target (Baselinehistological staging), yaitu tahapan kondisi hati pasien berdasarkan hasil histologi. Distribusi ini penting untuk memahami apakah kelas target seimbang (balanced) atau tidak — karena ketidakseimbangan kelas dapat menyebabkan bias dalam proses klasifikasi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="c1"># Ambil data dari UCI</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># Gabungkan fitur dan target</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># 1. CEK MISSING VALUE</span>
<span class="c1"># ----------------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Missing Values :&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># 2. CEK OUTLIER DENGAN IQR</span>
<span class="c1"># ----------------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outlier Check (IQR Method):&quot;</span><span class="p">)</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;number&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">numeric_cols</span><span class="p">:</span>
    <span class="n">Q1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
    <span class="n">Q3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span> <span class="n">Q1</span>
    <span class="n">outliers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">IQR</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">IQR</span><span class="p">)]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span><span class="si">}</span><span class="s2"> outlier(s)&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># 3. DISTRIBUSI TARGET (KELAS)</span>
<span class="c1"># ----------------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Distribusi Kelas Target ===&quot;</span><span class="p">)</span>
<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Missing Values :
Age                                 0
Gender                              0
BMI                                 0
Fever                               0
Nausea/Vomting                      0
Headache                            0
Diarrhea                            0
Fatigue &amp; generalized bone ache     0
Jaundice                            0
Epigastric pain                     0
WBC                                 0
RBC                                 0
HGB                                 0
Plat                                0
AST 1                               0
ALT 1                               0
ALT4                                0
ALT 12                              0
ALT 24                              0
ALT 36                              0
ALT 48                              0
ALT after 24 w                      0
RNA Base                            0
RNA 4                               0
RNA 12                              0
RNA EOT                             0
RNA EF                              0
Baseline histological Grading       0
Baselinehistological staging        0
dtype: int64

Outlier Check (IQR Method):
Age : 0 outlier(s)
Gender: 0 outlier(s)
BMI: 0 outlier(s)
Fever: 0 outlier(s)
Nausea/Vomting: 0 outlier(s)
Headache : 0 outlier(s)
Diarrhea : 0 outlier(s)
Fatigue &amp; generalized bone ache : 0 outlier(s)
Jaundice : 0 outlier(s)
Epigastric pain : 0 outlier(s)
WBC: 0 outlier(s)
RBC: 0 outlier(s)
HGB: 0 outlier(s)
Plat: 0 outlier(s)
AST 1: 0 outlier(s)
ALT 1: 0 outlier(s)
ALT4: 0 outlier(s)
ALT 12: 0 outlier(s)
ALT 24: 0 outlier(s)
ALT 36: 0 outlier(s)
ALT 48: 0 outlier(s)
ALT after 24 w: 3 outlier(s)
RNA Base: 0 outlier(s)
RNA 4: 0 outlier(s)
RNA 12: 1 outlier(s)
RNA EOT: 0 outlier(s)
RNA EF: 0 outlier(s)
Baseline histological Grading: 0 outlier(s)
Baselinehistological staging: 0 outlier(s)

=== Distribusi Kelas Target ===
Baselinehistological staging
4    362
3    355
1    336
2    332
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="c-visualisasikan-data">
<h3>c.	Visualisasikan data<a class="headerlink" href="#c-visualisasikan-data" title="Link to this heading">#</a></h3>
<p>Berikut adalah penerapan visualisasi distribusi data numerik dari dataset Hepatitis C Virus for Egyptian Patients. Visualisasi ini bertujuan untuk membantu memahami sebaran (distribusi) dan mendeteksi keberadaan outlier pada masing-masing fitur numerik. Proses ini dilakukan untuk semua kolom bertipe numerik menggunakan dua jenis grafik: histogram dengan kurva KDE (Kernel Density Estimation) untuk melihat bentuk distribusi data, serta boxplot untuk mendeteksi nilai-nilai ekstrem secara visual.</p>
<p>Histplot (histogram) memberikan gambaran apakah data berdistribusi normal, miring ke kanan/kiri, atau memiliki distribusi tidak umum. Sementara itu, boxplot memudahkan identifikasi outlier dengan melihat titik-titik yang berada di luar whisker plot. Fitur yang memiliki sebaran terlalu lebar, asimetris, atau banyak outlier bisa jadi memerlukan transformasi data (misalnya log-scaling) atau penanganan khusus agar tidak mengganggu proses pelatihan model klasifikasi. Dengan visualisasi ini, kita mendapatkan insight yang lebih mendalam terhadap kualitas dan karakteristik masing-masing fitur numerik dalam dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ----------------------------</span>
<span class="c1"># 4. VISUALISASI (Hist &amp; Boxplot)</span>
<span class="c1"># ----------------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Menampilkan histogram dan boxplot fitur numerik...&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">numeric_cols</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribusi Histogram: </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;salmon&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Boxplot: </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Menampilkan histogram dan boxplot fitur numerik...
</pre></div>
</div>
<img alt="_images/5b15b74863111eaa2076c1c4383120395230ba1fa810fb8ac5bf0ab6a67d83dc.png" src="_images/5b15b74863111eaa2076c1c4383120395230ba1fa810fb8ac5bf0ab6a67d83dc.png" />
<img alt="_images/95b7ea7e841da60cc5169155c1539cc9c920efd63b77b90818288bde510eadd7.png" src="_images/95b7ea7e841da60cc5169155c1539cc9c920efd63b77b90818288bde510eadd7.png" />
<img alt="_images/61f11c9b16433e89e65da0266b35f949d33a32519a91a5381245fb23569f7e27.png" src="_images/61f11c9b16433e89e65da0266b35f949d33a32519a91a5381245fb23569f7e27.png" />
<img alt="_images/0f2d8c962baddd8c93266d363f5dbf372187c68a557d0fbd938c315069111b3c.png" src="_images/0f2d8c962baddd8c93266d363f5dbf372187c68a557d0fbd938c315069111b3c.png" />
<img alt="_images/abb82612c546a6ecd6f06a33c2816e7e05e9c35b045685fa31b6933f12231f1b.png" src="_images/abb82612c546a6ecd6f06a33c2816e7e05e9c35b045685fa31b6933f12231f1b.png" />
<img alt="_images/4a3aea93f527a4c0bcd54fd627399b12344131ce5c70ba258b2f09340d30543e.png" src="_images/4a3aea93f527a4c0bcd54fd627399b12344131ce5c70ba258b2f09340d30543e.png" />
<img alt="_images/5b253c5359ecf30066306a0e2ae26bff74bd446ef322a82a4bf834a3f1c9600e.png" src="_images/5b253c5359ecf30066306a0e2ae26bff74bd446ef322a82a4bf834a3f1c9600e.png" />
<img alt="_images/ef844dc1c95029ae3b850b058df313ad4235d9951d04b56db48533e412003cc9.png" src="_images/ef844dc1c95029ae3b850b058df313ad4235d9951d04b56db48533e412003cc9.png" />
<img alt="_images/3bcac3cf0398d006af720378111877b7f3d6dc1963708ee4e23ef688bfe2edc2.png" src="_images/3bcac3cf0398d006af720378111877b7f3d6dc1963708ee4e23ef688bfe2edc2.png" />
<img alt="_images/852e035a907ffa23d0bf4e1d701a72b8b37479f407fd426297359992b18d3806.png" src="_images/852e035a907ffa23d0bf4e1d701a72b8b37479f407fd426297359992b18d3806.png" />
<img alt="_images/b301563560d089410cd53bf5373264bf203dede1c686e8779ec7e02937448f34.png" src="_images/b301563560d089410cd53bf5373264bf203dede1c686e8779ec7e02937448f34.png" />
<img alt="_images/7d6c1df12386b4c7d2de92c8e2a9dd96ab53ec8df2192a4e52309958c1e9b6b0.png" src="_images/7d6c1df12386b4c7d2de92c8e2a9dd96ab53ec8df2192a4e52309958c1e9b6b0.png" />
<img alt="_images/84ffa96819e0b7192df836fb3443ae033a5619f96d72bd36faaf2debdfbc29e5.png" src="_images/84ffa96819e0b7192df836fb3443ae033a5619f96d72bd36faaf2debdfbc29e5.png" />
<img alt="_images/b633e3fbe6045724801d42130f64017dace1cbb600a0d3d6c8d7d6bda583f4f2.png" src="_images/b633e3fbe6045724801d42130f64017dace1cbb600a0d3d6c8d7d6bda583f4f2.png" />
<img alt="_images/436d5c6aafced219b6700a5fa5ad6e9f58c7aade5c2f9bc013f53d77807e888a.png" src="_images/436d5c6aafced219b6700a5fa5ad6e9f58c7aade5c2f9bc013f53d77807e888a.png" />
<img alt="_images/27edc6d81a54944540e3e32238b7ddb1b79168982270cbef37b065b9796a3dba.png" src="_images/27edc6d81a54944540e3e32238b7ddb1b79168982270cbef37b065b9796a3dba.png" />
<img alt="_images/cf531f3ec1259e051167adc665bad1aabf6c905b8eb7d63c0c438b57c42f23b4.png" src="_images/cf531f3ec1259e051167adc665bad1aabf6c905b8eb7d63c0c438b57c42f23b4.png" />
<img alt="_images/b4dbde9d9f583d281d84f831ad9cf5df9e1ecd8b3146941eeecaf88a6bd86847.png" src="_images/b4dbde9d9f583d281d84f831ad9cf5df9e1ecd8b3146941eeecaf88a6bd86847.png" />
<img alt="_images/e8f8859f4eae4c541eea06cbb37236ae4863aec9f5802f434b98102621faf726.png" src="_images/e8f8859f4eae4c541eea06cbb37236ae4863aec9f5802f434b98102621faf726.png" />
<img alt="_images/e95f3e851a8a14bddf345121cb81be32853f04558eabd79e0bb2321de3f6ec89.png" src="_images/e95f3e851a8a14bddf345121cb81be32853f04558eabd79e0bb2321de3f6ec89.png" />
<img alt="_images/ed1e7df4a7f8195ab67d4dfc871f7bccd8fb569ccc60bae935195f5ca7b31edc.png" src="_images/ed1e7df4a7f8195ab67d4dfc871f7bccd8fb569ccc60bae935195f5ca7b31edc.png" />
<img alt="_images/de06ef14bfdb7cbe658fa4f7b09baf4c0fde0ea2ba52dba76a735bef098880eb.png" src="_images/de06ef14bfdb7cbe658fa4f7b09baf4c0fde0ea2ba52dba76a735bef098880eb.png" />
<img alt="_images/60386660187119631a43f90642c0312c025224c17a0e3ed19a2e4de09a5ad3fc.png" src="_images/60386660187119631a43f90642c0312c025224c17a0e3ed19a2e4de09a5ad3fc.png" />
<img alt="_images/f5caa0519b8e7368fe06f5022ae72843bc472225e58e1711f5a19fa082ce6f8a.png" src="_images/f5caa0519b8e7368fe06f5022ae72843bc472225e58e1711f5a19fa082ce6f8a.png" />
<img alt="_images/c2fa86333fbfd9da3746211fadef7cdfedf146fff2a839cc4f485a206f41f906.png" src="_images/c2fa86333fbfd9da3746211fadef7cdfedf146fff2a839cc4f485a206f41f906.png" />
<img alt="_images/74df80cec65e7c1fca59690856952e6142d50c3c9e5ee90ab62fd0152559274e.png" src="_images/74df80cec65e7c1fca59690856952e6142d50c3c9e5ee90ab62fd0152559274e.png" />
<img alt="_images/d55c20ff040810fb692689df07f9931e43e85f0b723379e8937dbcbcd13ebfc3.png" src="_images/d55c20ff040810fb692689df07f9931e43e85f0b723379e8937dbcbcd13ebfc3.png" />
<img alt="_images/2492114e0891d2970cd7a254b9976d31a3360e842b63bd4b2fd33e6c6ebca517.png" src="_images/2492114e0891d2970cd7a254b9976d31a3360e842b63bd4b2fd33e6c6ebca517.png" />
<img alt="_images/431d377c3cfc4e77a7ac2d1fd14ef107e4de359ce219d84b198141bf51f11e3a.png" src="_images/431d377c3cfc4e77a7ac2d1fd14ef107e4de359ce219d84b198141bf51f11e3a.png" />
</div>
</div>
</section>
</section>
<section id="prepocessing-data">
<h2>3.	Prepocessing data<a class="headerlink" href="#prepocessing-data" title="Link to this heading">#</a></h2>
<section id="a-normalisasi-data">
<h3>a. Normalisasi Data<a class="headerlink" href="#a-normalisasi-data" title="Link to this heading">#</a></h3>
<p>Kode di bawah melakukan proses preprocessing lengkap untuk dataset Hepatitis C Virus for Egyptian Patients dari UCI. Langkah pertama adalah mengambil data, lalu mengidentifikasi fitur numerik dan melakukan normalisasi menggunakan MinMaxScaler. Normalisasi ini penting agar semua fitur numerik memiliki rentang nilai yang seragam (antara 0 dan 1), sehingga model machine learning yang sensitif terhadap skala data — seperti KNN atau neural network — dapat belajar dengan lebih stabil. Setelah itu, fitur kategori seperti Gender juga diubah menjadi representasi numerik menggunakan LabelEncoder, yang mengubah label teks (misalnya ‘Male’, ‘Female’) menjadi angka (0 dan 1).</p>
<p>Langkah selanjutnya adalah memisahkan data menjadi data latih dan data uji menggunakan train_test_split, dengan proporsi 80% untuk pelatihan dan 20% untuk pengujian. Ini dilakukan agar model dapat dilatih di satu subset data dan diuji pada data yang belum pernah dilihat sebelumnya, guna mengukur kemampuannya melakukan generalisasi. Akhirnya, kode mencetak ukuran dataset hasil split dan contoh isi X_train untuk memastikan preprocessing berjalan dengan benar. Dengan pipeline ini, data sudah siap digunakan untuk pelatihan model prediksi seperti Decision Tree, Random Forest, atau algoritma lainnya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span><span class="p">,</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="c1"># 1. Ambil dataset dari UCI</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># 2. Deteksi fitur numerik</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;number&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># 3. Normalisasi data numerik dengan MinMaxScaler</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">X_scaled</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">])</span>

<span class="c1"># 4. Encoding fitur kategori (misalnya: Gender)</span>
<span class="n">X_encoded</span> <span class="o">=</span> <span class="n">X_scaled</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">if</span> <span class="s1">&#39;Gender&#39;</span> <span class="ow">in</span> <span class="n">X_encoded</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">X_encoded</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_encoded</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">])</span>  <span class="c1"># Male=1, Female=0</span>

<span class="c1"># 5. Ambil target dan pisahkan data menjadi train dan test</span>
<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>
<span class="n">y_final</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X_encoded</span><span class="p">,</span> <span class="n">y_final</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># 6. Tampilkan bentuk data akhir</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bentuk data X_train:&quot;</span><span class="p">,</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bentuk data X_test :&quot;</span><span class="p">,</span> <span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Contoh data X_train:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bentuk data X_train: (1108, 28)
Bentuk data X_test : (277, 28)
Contoh data X_train:
          Age   Gender       BMI  Fever  Nausea/Vomting  Headache   Diarrhea   \
630   0.103448       1  1.000000    1.0             1.0        1.0        1.0   
1155  0.862069       1  0.153846    1.0             1.0        0.0        0.0   
948   0.793103       0  0.615385    1.0             1.0        0.0        1.0   
944   1.000000       1  0.076923    1.0             1.0        0.0        1.0   
701   0.862069       0  0.538462    0.0             0.0        1.0        1.0   

      Fatigue &amp; generalized bone ache   Jaundice   Epigastric pain   ...  \
630                                0.0        0.0               1.0  ...   
1155                               0.0        1.0               1.0  ...   
948                                0.0        0.0               1.0  ...   
944                                0.0        1.0               0.0  ...   
701                                0.0        0.0               1.0  ...   

        ALT 24    ALT 36    ALT 48  ALT after 24 w  RNA Base     RNA 4  \
630   0.370787  0.634146  0.918699           0.725  0.426493  0.617287   
1155  0.191011  0.764228  0.447154           0.625  0.983970  0.674985   
948   0.359551  0.756098  0.463415           0.500  0.985122  0.865411   
944   0.595506  0.902439  0.756098           0.750  0.147295  0.456203   
701   0.573034  0.447154  0.796748           0.500  0.540531  0.069491   

        RNA 12   RNA EOT    RNA EF  Baseline histological Grading  
630   0.048206  0.476552  0.082172                       0.846154  
1155  0.143183  0.353582  0.320916                       0.153846  
948   0.018606  0.474823  0.628979                       0.153846  
944   0.117645  0.391095  0.801984                       0.615385  
701   0.000000  0.000000  0.000000                       0.153846  

[5 rows x 28 columns]
</pre></div>
</div>
</div>
</div>
</section>
<section id="b-encoding-kategori">
<h3>b. Encoding kategori<a class="headerlink" href="#b-encoding-kategori" title="Link to this heading">#</a></h3>
<p>Kode tersebut berfungsi untuk melakukan encoding atau konversi data kategori menjadi data numerik, agar bisa digunakan dalam algoritma machine learning. Data yang diambil berasal dari dataset Hepatitis C Virus (HCV) milik pasien asal Mesir. Langkah pertama yaitu meng-copy data asli ke variabel baru (X_encoded dan y_encoded) untuk diproses. Fitur kategori seperti Gender, yang memiliki nilai teks seperti “Male” atau “Female”, diubah menjadi angka menggunakan LabelEncoder dari scikit-learn. Mapping hasil encoding juga ditampilkan untuk menunjukkan bahwa, misalnya, ‘Female’ diubah menjadi 0 dan ‘Male’ menjadi 1.</p>
<p>Selanjutnya, kode juga mengecek apakah kolom target (Baselinehistological staging) berupa kategori (objek atau tipe kategori), dan jika ya, maka kolom tersebut juga diubah menjadi angka. Ini penting karena banyak algoritma klasifikasi hanya bisa bekerja dengan target numerik, bukan teks. Hasil encoding pada kolom fitur Gender dan target Baselinehistological staging ditampilkan sebagai contoh. Dengan demikian, data sudah dalam bentuk siap pakai untuk pelatihan model prediksi atau klasifikasi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="c1"># 1. Ambil dataset dari UCI</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># 2. Salin data untuk encoding</span>
<span class="n">X_encoded</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># 3. Encoding fitur kategori (misalnya Gender)</span>
<span class="k">if</span> <span class="s1">&#39;Gender&#39;</span> <span class="ow">in</span> <span class="n">X_encoded</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">le_gender</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">X_encoded</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">le_gender</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_encoded</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">])</span>  <span class="c1"># Male=1, Female=0</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mapping Gender:&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">le_gender</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span> <span class="n">le_gender</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">le_gender</span><span class="o">.</span><span class="n">classes_</span><span class="p">))))</span>

<span class="c1"># 4. Encoding target label (jika target bertipe kategorikal)</span>
<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>
<span class="k">if</span> <span class="n">y_encoded</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span> <span class="ow">or</span> <span class="n">y_encoded</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;category&#39;</span><span class="p">:</span>
    <span class="n">le_target</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">y_encoded</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le_target</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_encoded</span><span class="p">[</span><span class="n">target_col</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mapping Target (Staging):&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">le_target</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span> <span class="n">le_target</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">le_target</span><span class="o">.</span><span class="n">classes_</span><span class="p">))))</span>

<span class="c1"># 5. Hasil encoding</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Contoh hasil encoding:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_encoded</span><span class="p">[[</span><span class="s1">&#39;Gender&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_encoded</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mapping Gender: {np.int64(1): np.int64(0), np.int64(2): np.int64(1)}

Contoh hasil encoding:
   Gender
0       0
1       0
2       0
3       1
4       0
   Baselinehistological staging
0                             2
1                             2
2                             4
3                             3
4                             1
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="klasifikasi-terhadap-data">
<h2>4. klasifikasi terhadap data<a class="headerlink" href="#klasifikasi-terhadap-data" title="Link to this heading">#</a></h2>
<p>Kode di bawah digunakan untuk memuat dan memproses dataset dari UCI Machine Learning Repository dengan ID 503, kemudian mengimplementasikan dan membandingkan tiga model klasifikasi: Gaussian Naive Bayes, Decision Tree, dan K-Nearest Neighbors (KNN). Dataset yang digunakan memiliki target ‘Baselinehistological staging’, yang dikonversi menjadi label biner: nilai 1 dan 2 diklasifikasikan sebagai 0 (misalnya kondisi ringan), dan nilai 3 serta 4 sebagai 1 (misalnya kondisi berat). Data kemudian dipisahkan menjadi fitur (X) dan label (y), dan semua nilai kosong pada fitur diimputasi menggunakan rata-rata (mean) agar model tidak gagal saat pelatihan.</p>
<p>Selanjutnya, data dibagi menjadi dua bagian: 80% untuk pelatihan (training) dan 20% untuk pengujian (testing). Karena model Gaussian Naive Bayes dan KNN sensitif terhadap skala data, fitur-fitur tersebut dinormalisasi menggunakan MinMaxScaler agar semua nilai berada dalam rentang 0 hingga 1. Model Decision Tree tidak memerlukan normalisasi karena berbasis pada pemisahan nilai, bukan perhitungan jarak atau probabilitas. Setelah pelatihan selesai untuk ketiga model, prediksi hasil dari masing-masing model ditampilkan, bersama dengan data pelatihan, data pengujian, dan label pengujian.</p>
<p>Secara keseluruhan, kode ini berguna untuk membandingkan performa awal ketiga model klasifikasi terhadap dataset biner yang telah diproses. Meskipun belum ditambahkan metrik evaluasi seperti akurasi, precision, recall, atau confusion matrix, struktur kode ini sudah mempersiapkan seluruh pipeline dari pengambilan data, preprocessing, pelatihan, hingga prediksi. Langkah selanjutnya yang disarankan adalah menambahkan evaluasi performa agar bisa menilai model mana yang paling cocok untuk digunakan dalam konteks ini.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>

<span class="c1"># Ambil dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Pilih target dan ubah jadi biner: 1–2 =&gt; 0, 3–4 =&gt; 1</span>
<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">target_col</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1"># Pisahkan fitur dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">target_col</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span>

<span class="c1"># Imputasi nilai kosong</span>
<span class="n">imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">X_imputed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Split data</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_imputed</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>

<span class="c1"># Gunakan MinMaxScaler untuk model Naive Bayes &amp; KNN</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># ============ 1. Gaussian Naive Bayes ============</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: Gaussian Naive Bayes&quot;</span><span class="p">)</span>
<span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_gnb</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="c1"># ============ 2. Decision Tree ============</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: Decision Tree&quot;</span><span class="p">)</span>
<span class="n">dt_model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">dt_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_dt</span> <span class="o">=</span> <span class="n">dt_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># ============ 3. K-Nearest Neighbors ============</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: K-Nearest Neighbors&quot;</span><span class="p">)</span>
<span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_knn</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="c1"># ================================</span>
<span class="c1"># Tampilkan Hasil</span>
<span class="c1"># ================================</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">================ Y PREDIKSI (Naive Bayes) =================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred_gnb</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">================ Y PREDIKSI (Decision Tree) ================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred_dt</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">================ Y PREDIKSI (KNN) ==========================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred_knn</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==================== X TRAINING ============================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==================== X TESTING =============================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==================== Y TESTING =============================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>==&gt; Melatih model: Gaussian Naive Bayes

==&gt; Melatih model: Decision Tree

==&gt; Melatih model: K-Nearest Neighbors
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>================ Y PREDIKSI (Naive Bayes) =================
[1 1 1 0 0 1 1 1 1 0 1 1 1 1 1 0 1 0 1 0 1 1 1 1 0 1 0 0 1 0 1 0 1 0 0 1 1
 1 1 1 1 1 0 0 1 0 0 0 1 0 1 1 0 0 0 0 1 0 1 1 1 1 0 0 0 0 1 1 1 1 0 1 1 1
 1 1 0 1 1 1 0 1 1 0 1 0 1 0 0 0 0 1 1 0 0 1 1 1 1 1 0 0 1 1 1 1 1 1 1 0 1
 0 1 0 1 1 1 0 1 1 1 1 1 0 0 1 0 1 0 1 1 1 0 1 0 1 0 0 0 1 1 0 0 1 0 1 1 1
 1 0 0 0 0 1 0 0 1 0 1 1 1 1 0 1 0 1 1 0 0 1 1 0 1 1 1 1 0 1 1 1 0 1 1 0 0
 1 0 0 1 1 0 1 1 0 1 0 0 0 1 1 1 0 1 0 1 0 1 1 0 1 0 1 0 0 1 0 0 1 1 0 1 1
 1 1 1 1 1 1 0 1 0 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 0 0 0 1 1 1 1 1
 1 0 1 1 1 1 1 1 0 0 0 1 1 1 0 0 0 1]

================ Y PREDIKSI (Decision Tree) ================
[0 1 1 0 0 1 1 1 0 1 1 1 1 1 1 0 0 0 1 1 1 0 0 0 0 0 0 1 0 1 0 1 0 0 1 1 1
 1 1 1 0 1 0 1 0 1 1 1 0 0 1 1 0 0 1 0 1 0 1 1 1 0 1 0 1 0 1 1 0 1 0 1 1 1
 1 1 0 0 0 0 1 1 1 0 0 0 0 0 0 1 0 0 0 0 1 1 0 0 1 0 1 0 1 0 0 1 1 1 0 1 1
 1 0 0 0 1 1 0 0 0 1 1 0 1 0 0 1 1 0 0 1 0 1 1 1 0 1 1 0 1 0 1 0 0 1 0 0 1
 1 1 0 0 1 1 0 1 0 0 0 1 1 1 0 0 1 1 0 0 0 1 0 1 1 0 0 0 1 1 0 1 1 0 0 0 0
 0 1 0 0 1 0 0 1 1 0 0 1 1 1 0 1 0 1 1 1 1 1 1 0 0 1 1 0 0 0 0 1 0 1 0 1 1
 0 1 0 1 1 1 1 1 0 0 1 0 1 0 0 0 0 0 0 1 1 1 1 0 0 0 1 1 1 1 0 1 1 1 0 1 1
 1 0 0 1 1 1 1 1 1 1 1 0 1 1 1 1 0 0]

================ Y PREDIKSI (KNN) ==========================
[0 1 1 0 0 0 1 1 0 0 0 0 1 0 1 1 0 1 1 0 0 1 0 1 1 1 1 1 0 0 1 1 1 1 0 0 0
 0 0 1 0 1 0 0 1 1 1 1 1 0 0 1 1 0 0 1 0 0 1 1 1 1 0 0 0 0 0 0 1 0 1 1 0 0
 1 0 1 0 0 1 1 1 1 0 1 1 1 0 1 1 1 1 1 1 0 1 0 0 1 1 0 1 1 0 0 1 0 0 0 0 1
 1 1 0 0 1 1 0 0 1 0 0 0 1 1 0 0 1 0 0 1 0 0 1 0 0 1 0 1 1 1 0 0 1 0 1 0 1
 0 0 0 1 0 1 1 0 1 1 1 1 1 1 0 1 0 0 1 0 1 0 1 1 0 0 1 0 1 0 1 1 0 0 0 0 0
 0 0 1 0 1 0 1 1 1 1 1 0 0 0 1 1 1 1 0 1 0 1 1 1 1 0 1 1 0 1 0 1 1 1 0 1 1
 1 0 1 0 1 1 0 1 0 0 1 1 1 0 0 1 1 1 1 0 0 1 1 1 1 0 1 1 1 1 1 1 1 0 1 0 1
 0 1 1 0 0 1 1 1 0 0 1 1 1 1 0 0 1 0]

==================== X TRAINING ============================
      Age   Gender   BMI  Fever  Nausea/Vomting  Headache   Diarrhea   \
630   35.0     2.0  35.0    2.0             2.0        2.0        2.0   
1155  57.0     2.0  24.0    2.0             2.0        1.0        1.0   
948   55.0     1.0  30.0    2.0             2.0        1.0        2.0   
944   61.0     2.0  23.0    2.0             2.0        1.0        2.0   
701   57.0     1.0  29.0    1.0             1.0        2.0        2.0   
...    ...     ...   ...    ...             ...        ...        ...   
1095  61.0     2.0  22.0    2.0             1.0        1.0        1.0   
1130  42.0     2.0  32.0    2.0             1.0        1.0        2.0   
1294  42.0     1.0  28.0    2.0             2.0        2.0        1.0   
860   52.0     2.0  28.0    2.0             2.0        2.0        1.0   
1126  51.0     1.0  35.0    2.0             1.0        2.0        1.0   

      Fatigue &amp; generalized bone ache   Jaundice   Epigastric pain   ...  \
630                                1.0        1.0               2.0  ...   
1155                               1.0        2.0               2.0  ...   
948                                1.0        1.0               2.0  ...   
944                                1.0        2.0               1.0  ...   
701                                1.0        1.0               2.0  ...   
...                                ...        ...               ...  ...   
1095                               2.0        1.0               1.0  ...   
1130                               2.0        2.0               1.0  ...   
1294                               1.0        2.0               2.0  ...   
860                                2.0        1.0               2.0  ...   
1126                               2.0        1.0               1.0  ...   

      ALT 24  ALT 36  ALT 48  ALT after 24 w   RNA Base      RNA 4    RNA 12  \
630     72.0    83.0   118.0            34.0   512261.0   741805.0  179888.0   
1155    56.0    99.0    60.0            30.0  1181833.0   811141.0  534294.0   
948     71.0    98.0    62.0            25.0  1183216.0  1039978.0   69432.0   
944     92.0   116.0    98.0            35.0   176923.0   548229.0  439001.0   
701     90.0    60.0   103.0            25.0   649229.0    83513.0       5.0   
...      ...     ...     ...             ...        ...        ...       ...   
1095    62.0    80.0   123.0            30.0   650378.0   439562.0    9515.0   
1130    64.0    94.0    77.0            38.0   959371.0   600996.0  493891.0   
1294    49.0   105.0    95.0            25.0   868864.0    36800.0       5.0   
860     57.0   113.0    59.0            39.0  1043824.0   185319.0       5.0   
1126    53.0    73.0   117.0            23.0   762174.0   924007.0  433768.0   

       RNA EOT    RNA EF  Baseline histological Grading  
630   385271.0   66591.0                           14.0  
1155  285857.0  260052.0                            5.0  
948   383873.0  509684.0                            5.0  
944   316184.0  649875.0                           11.0  
701        5.0       5.0                            5.0  
...        ...       ...                            ...  
1095  242881.0  176382.0                           12.0  
1130  295664.0  759722.0                            8.0  
1294       5.0       5.0                            9.0  
860        5.0       5.0                           14.0  
1126  315163.0  516650.0                            6.0  

[1108 rows x 28 columns]

==================== X TESTING =============================
      Age   Gender   BMI  Fever  Nausea/Vomting  Headache   Diarrhea   \
1128  52.0     1.0  23.0    2.0             2.0        2.0        1.0   
237   51.0     1.0  30.0    1.0             2.0        1.0        1.0   
163   39.0     2.0  29.0    2.0             2.0        2.0        1.0   
739   55.0     2.0  35.0    1.0             1.0        2.0        2.0   
51    56.0     2.0  23.0    1.0             1.0        1.0        2.0   
...    ...     ...   ...    ...             ...        ...        ...   
289   46.0     2.0  28.0    1.0             1.0        1.0        1.0   
693   55.0     1.0  31.0    2.0             1.0        2.0        2.0   
462   43.0     1.0  24.0    2.0             2.0        1.0        1.0   
945   46.0     1.0  32.0    2.0             2.0        1.0        1.0   
969   41.0     1.0  32.0    2.0             2.0        2.0        2.0   

      Fatigue &amp; generalized bone ache   Jaundice   Epigastric pain   ...  \
1128                               1.0        2.0               1.0  ...   
237                                1.0        1.0               1.0  ...   
163                                1.0        1.0               1.0  ...   
739                                2.0        2.0               1.0  ...   
51                                 2.0        2.0               2.0  ...   
...                                ...        ...               ...  ...   
289                                2.0        1.0               1.0  ...   
693                                1.0        1.0               2.0  ...   
462                                1.0        2.0               2.0  ...   
945                                2.0        1.0               2.0  ...   
969                                1.0        1.0               2.0  ...   

      ALT 24  ALT 36  ALT 48  ALT after 24 w   RNA Base      RNA 4    RNA 12  \
1128    85.0    80.0    55.0            40.0   326964.0   634114.0       5.0   
237     46.0   124.0    47.0            44.0  1128295.0   722676.0       5.0   
163     60.0    53.0    84.0            28.0    87557.0   139368.0   47678.0   
739     47.0   114.0    84.0            45.0    49315.0  1070974.0       5.0   
51      80.0    76.0   101.0            43.0   508849.0   130739.0   43228.0   
...      ...     ...     ...             ...        ...        ...       ...   
289     97.0   116.0   106.0            23.0   356961.0   417593.0  274776.0   
693     98.0   102.0   100.0            35.0   267632.0   404984.0       5.0   
462    106.0    86.0    43.0            26.0   269253.0  1008630.0       5.0   
945    127.0   103.0    97.0            35.0   235213.0   166819.0       5.0   
969     82.0    95.0    60.0            43.0   837024.0   471355.0  454301.0   

       RNA EOT    RNA EF  Baseline histological Grading  
1128       5.0       5.0                           12.0  
237        5.0       5.0                            5.0  
163   697035.0   26909.0                            8.0  
739        5.0       5.0                           11.0  
51    300616.0   92124.0                           13.0  
...        ...       ...                            ...  
289   600159.0  781340.0                           14.0  
693        5.0       5.0                            3.0  
462        5.0       5.0                           15.0  
945        5.0       5.0                            3.0  
969   431075.0  533187.0                           15.0  

[277 rows x 28 columns]

==================== Y TESTING =============================
0      1
1      1
2      1
3      0
4      0
      ..
272    1
273    0
274    0
275    0
276    1
Name: Baselinehistological staging, Length: 277, dtype: int64
</pre></div>
</div>
</div>
</div>
<section id="evaluasi-model">
<h3>5.	Evaluasi model<a class="headerlink" href="#evaluasi-model" title="Link to this heading">#</a></h3>
<p>Berikut adalah penerapan evaluasi model klasifikasi terhadap data Hepatitis C Virus for Egyptian Patients menggunakan empat algoritma machine learning, yaitu Decision Tree, Naive Bayes, Random Forest, dan K-Nearest Neighbors (KNN). Evaluasi dilakukan dengan menghitung akurasi, confusion matrix, dan classification report untuk masing-masing model. Nilai akurasi dari semua model disimpan dalam dictionary model_scores agar bisa dibandingkan secara otomatis.</p>
<p>Setelah semua model dievaluasi, sistem akan menentukan model dengan akurasi tertinggi menggunakan fungsi max(). Hasil akhirnya akan mencetak nama model terbaik beserta nilai akurasinya secara rinci. Dengan pendekatan ini, kamu dapat langsung mengetahui algoritma mana yang paling baik performanya dalam mengklasifikasikan staging penyakit hepatitis berdasarkan data pasien.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">,</span> <span class="n">f1_score</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Ambil dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Pilih target dan ubah jadi biner: 1–2 =&gt; 0, 3–4 =&gt; 1</span>
<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">target_col</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1"># Pisahkan fitur dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">target_col</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span>

<span class="c1"># Imputasi nilai kosong</span>
<span class="n">imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">X_imputed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Split data</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_imputed</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>

<span class="c1"># Gunakan MinMaxScaler untuk model Naive Bayes &amp; KNN</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># ===== MODEL 1: Gaussian Naive Bayes =====</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: Gaussian Naive Bayes&quot;</span><span class="p">)</span>
<span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_gnb</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="c1"># ===== MODEL 2: Decision Tree =====</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: Decision Tree&quot;</span><span class="p">)</span>
<span class="n">dt_model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">dt_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_dt</span> <span class="o">=</span> <span class="n">dt_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># ===== MODEL 3: K-Nearest Neighbors =====</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: K-Nearest Neighbors (k=5)&quot;</span><span class="p">)</span>
<span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_knn</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="c1"># ===== FUNGSI EVALUASI + VISUALISASI =====</span>
<span class="k">def</span> <span class="nf">evaluate_model</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">======= Evaluasi Model: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> =======&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi  :&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Presisi  :&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">precision_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recall   :&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">recall_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1 Score :&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">f1_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>

    <span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Confusion Matrix - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Predicted&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Actual&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ===== PANGGIL EVALUASI SETIAP MODEL =====</span>
<span class="n">evaluate_model</span><span class="p">(</span><span class="s2">&quot;Gaussian Naive Bayes&quot;</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_gnb</span><span class="p">)</span>
<span class="n">evaluate_model</span><span class="p">(</span><span class="s2">&quot;Decision Tree&quot;</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">)</span>
<span class="n">evaluate_model</span><span class="p">(</span><span class="s2">&quot;K-Nearest Neighbors (k=5)&quot;</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>==&gt; Melatih model: Gaussian Naive Bayes

==&gt; Melatih model: Decision Tree

==&gt; Melatih model: K-Nearest Neighbors (k=5)

======= Evaluasi Model: Gaussian Naive Bayes =======
Akurasi  : 0.5271
Presisi  : 0.5202
Recall   : 0.6522
F1 Score : 0.5788
</pre></div>
</div>
<img alt="_images/ec5f912390be105edf10f5389ad7a43b5bad76594fff9c2d8b4f086d8f88f471.png" src="_images/ec5f912390be105edf10f5389ad7a43b5bad76594fff9c2d8b4f086d8f88f471.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======= Evaluasi Model: Decision Tree =======
Akurasi  : 0.4729
Presisi  : 0.473
Recall   : 0.5072
F1 Score : 0.4895
</pre></div>
</div>
<img alt="_images/02edf212e301026424a1cbde334413bbffff2100bacc4ad688457a5d2dfe95a2.png" src="_images/02edf212e301026424a1cbde334413bbffff2100bacc4ad688457a5d2dfe95a2.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======= Evaluasi Model: K-Nearest Neighbors (k=5) =======
Akurasi  : 0.5668
Presisi  : 0.5592
Recall   : 0.6159
F1 Score : 0.5862
</pre></div>
</div>
<img alt="_images/7c7cd26914c2afedb36e03f220f2f0f155b2eea806d44c136737d3929b43762a.png" src="_images/7c7cd26914c2afedb36e03f220f2f0f155b2eea806d44c136737d3929b43762a.png" />
</div>
</div>
<p>Kode di bawah melakukan proses end-to-end machine learning pipeline untuk mengklasifikasikan stadium histologis berdasarkan dataset dari UCI dengan ID 503. Dataset tersebut dibersihkan dengan membuang entri yang memiliki nilai target kosong dan mengonversi target ‘Baselinehistological staging’ menjadi dua kelas biner: nilai 1 dan 2 menjadi 0, serta 3 dan 4 menjadi 1. Setelah itu, semua fitur yang mengandung nilai kosong diimputasi menggunakan nilai rata-rata (mean imputation), kemudian dibagi menjadi data pelatihan dan pengujian. Untuk model yang sensitif terhadap skala data (Naive Bayes dan KNN), dilakukan normalisasi menggunakan MinMaxScaler.</p>
<p>Tiga model pembelajaran mesin yang digunakan adalah Gaussian Naive Bayes, Decision Tree, dan K-Nearest Neighbors. Hasil prediksi dari masing-masing model dievaluasi menggunakan metrik umum: accuracy, precision, recall, dan F1-score. Semua hasil diekstrak ke dalam DataFrame dan diurutkan berdasarkan nilai F1-score, kemudian divisualisasikan menggunakan barplot yang menunjukkan nilai F1 setiap model lengkap dengan label angkanya di atas bar. Di akhir, program juga menyebutkan model terbaik berdasarkan skor F1 tertinggi, memberikan gambaran jelas model mana yang paling efektif untuk tugas klasifikasi biner pada dataset tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">,</span> <span class="n">f1_score</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># ===================== Ambil dan siapkan dataset =====================</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">503</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">target_col</span> <span class="o">=</span> <span class="s1">&#39;Baselinehistological staging&#39;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">target_col</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">target_col</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span>

<span class="n">imputer</span> <span class="o">=</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
<span class="n">X_imputed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_imputed</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># ===================== Training Model =====================</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: Gaussian Naive Bayes&quot;</span><span class="p">)</span>
<span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_gnb</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: Decision Tree&quot;</span><span class="p">)</span>
<span class="n">dt_model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">dt_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_dt</span> <span class="o">=</span> <span class="n">dt_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==&gt; Melatih model: K-Nearest Neighbors&quot;</span><span class="p">)</span>
<span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_knn</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="c1"># ===================== Evaluasi dan Visualisasi =====================</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Gaussian Naive Bayes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;accuracy&quot;</span><span class="p">:</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_gnb</span><span class="p">),</span>
        <span class="s2">&quot;precision&quot;</span><span class="p">:</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_gnb</span><span class="p">),</span>
        <span class="s2">&quot;recall&quot;</span><span class="p">:</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_gnb</span><span class="p">),</span>
        <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_gnb</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="s2">&quot;Decision Tree&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;accuracy&quot;</span><span class="p">:</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">),</span>
        <span class="s2">&quot;precision&quot;</span><span class="p">:</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">),</span>
        <span class="s2">&quot;recall&quot;</span><span class="p">:</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">),</span>
        <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_dt</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="s2">&quot;K-Nearest Neighbors (k=5)&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;accuracy&quot;</span><span class="p">:</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">),</span>
        <span class="s2">&quot;precision&quot;</span><span class="p">:</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">),</span>
        <span class="s2">&quot;recall&quot;</span><span class="p">:</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">),</span>
        <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_knn</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">df_results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">df_results_sorted</span> <span class="o">=</span> <span class="n">df_results</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">========== PERBANDINGAN MODEL BERDASARKAN METRIK ==========&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_results_sorted</span><span class="p">)</span>

<span class="c1"># ===== Barplot F1 Score tanpa warning + label =====</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_results_sorted</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="n">df_results_sorted</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_results_sorted</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span>
    <span class="n">dodge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Perbandingan F1-Score dari Setiap Model&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;F1 Score&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Tambahkan label skor di atas bar</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
    <span class="n">f1_val</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">f1_val</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">f1_val</span><span class="p">),</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span>
                <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ===== Model terbaik berdasarkan F1 =====</span>
<span class="n">best_model</span> <span class="o">=</span> <span class="n">df_results_sorted</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&gt;&gt; Model terbaik berdasarkan F1-Score adalah: **</span><span class="si">{</span><span class="n">best_model</span><span class="si">}</span><span class="s2">**&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>==&gt; Melatih model: Gaussian Naive Bayes

==&gt; Melatih model: Decision Tree

==&gt; Melatih model: K-Nearest Neighbors

========== PERBANDINGAN MODEL BERDASARKAN METRIK ==========
                           accuracy  precision    recall        f1
K-Nearest Neighbors (k=5)  0.566787   0.559211  0.615942  0.586207
Gaussian Naive Bayes       0.527076   0.520231  0.652174  0.578778
Decision Tree              0.472924   0.472973  0.507246  0.489510
</pre></div>
</div>
<img alt="_images/5c10b31d8361ad80a97f3f03b91024b21d89dfc0467884d2387803de3c83b9a1.png" src="_images/5c10b31d8361ad80a97f3f03b91024b21d89dfc0467884d2387803de3c83b9a1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&gt;&gt; Model terbaik berdasarkan F1-Score adalah: **K-Nearest Neighbors (k=5)**
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="binnings.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Teknik Binning</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#persiapkan-dataset">1. Persiapkan Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sumber-dataset">Sumber Dataset</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">2. Data Understanding</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-penjelasan-fitur-variabel-data">a. Penjelasan fitur / variabel data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-ekplorasi-data-tersebut">b.	Ekplorasi data tersebut</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-visualisasikan-data">c.	Visualisasikan data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-data">3.	Prepocessing data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-normalisasi-data">a. Normalisasi Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-encoding-kategori">b. Encoding kategori</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-terhadap-data">4. klasifikasi terhadap data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model">5.	Evaluasi model</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Malikzert
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>